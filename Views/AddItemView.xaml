<Window x:Class="ETAG_ERP.Views.AddItemWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="إضافة صنف جديد"
        Height="850" Width="800"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}"
        FlowDirection="RightToLeft">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- العنوان -->
            <TextBlock Text="إضافة صنف جديد"
                       Style="{StaticResource PageTitle}"
                       HorizontalAlignment="Right"/>

            <!-- النموذج -->
            <Grid Grid.Row="1" Margin="0 10 0 20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="2*" />
                </Grid.ColumnDefinitions>

                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- اسم -->
                <TextBlock Grid.Row="0" Grid.Column="0" Text="اسم الصنف:" Margin="5"/>
                <TextBox Grid.Row="0" Grid.Column="1" x:Name="txtName" Margin="5"/>

                <!-- كود -->
                <TextBlock Grid.Row="1" Grid.Column="0" Text="كود الصنف:" Margin="5"/>
                <TextBox Grid.Row="1" Grid.Column="1" x:Name="txtCode" Margin="5"/>

                <!-- باركود -->
                <TextBlock Grid.Row="2" Grid.Column="0" Text="الباركود:" Margin="5"/>
                <TextBox Grid.Row="2" Grid.Column="1" x:Name="txtBarcode" Margin="5"/>

                <!-- وحدة -->
                <TextBlock Grid.Row="3" Grid.Column="0" Text="الوحدة:" Margin="5"/>
                <ComboBox Grid.Row="3" Grid.Column="1" x:Name="cmbUnit" Margin="5" Height="28">
                    <ComboBoxItem Content="قطعة"/>
                    <ComboBoxItem Content="كرتونة"/>
                    <ComboBoxItem Content="متر"/>
                    <ComboBoxItem Content="كيلو"/>
                </ComboBox>

                <!-- كمية -->
                <TextBlock Grid.Row="4" Grid.Column="0" Text="الكمية في المخزون:" Margin="5"/>
                <TextBox Grid.Row="4" Grid.Column="1" x:Name="txtQuantity" Margin="5"/>

                <!-- الحد الأدنى -->
                <TextBlock Grid.Row="5" Grid.Column="0" Text="الحد الأدنى للمخزون:" Margin="5"/>
                <TextBox Grid.Row="5" Grid.Column="1" x:Name="txtMinStock" Margin="5"/>

                <!-- سعر شراء -->
                <TextBlock Grid.Row="6" Grid.Column="0" Text="سعر الشراء:" Margin="5"/>
                <TextBox Grid.Row="6" Grid.Column="1" x:Name="txtPurchasePrice" Margin="5"/>

                <!-- سعر بيع -->
                <TextBlock Grid.Row="7" Grid.Column="0" Text="سعر البيع:" Margin="5"/>
                <TextBox Grid.Row="7" Grid.Column="1" x:Name="txtSellingPrice" Margin="5"/>

                <!-- أسعار إضافية -->
                <TextBlock Grid.Row="8" Grid.Column="0" Text="سعر 1 / 2 / 3:" Margin="5"/>
                <StackPanel Grid.Row="8" Grid.Column="1" Orientation="Horizontal" Margin="5" HorizontalAlignment="Left">
                    <TextBox x:Name="txtPrice1" Width="70" Margin="0 0 5 0"/>
                    <TextBox x:Name="txtPrice2" Width="70" Margin="0 0 5 0"/>
                    <TextBox x:Name="txtPrice3" Width="70"/>
                </StackPanel>

                <!-- خصم -->
                <TextBlock Grid.Row="9" Grid.Column="0" Text="نسبة الخصم %:" Margin="5"/>
                <TextBox Grid.Row="9" Grid.Column="1" x:Name="txtDiscount" Margin="5"/>

                <!-- ضريبة -->
                <TextBlock Grid.Row="10" Grid.Column="0" Text="الضريبة %:" Margin="5"/>
                <TextBox Grid.Row="10" Grid.Column="1" x:Name="txtTax" Margin="5"/>

                <!-- حالة -->
                <TextBlock Grid.Row="11" Grid.Column="0" Text="الحالة:" Margin="5"/>
                <CheckBox Grid.Row="11" Grid.Column="1" x:Name="chkIsActive" Content="مفعل" IsChecked="True" Margin="5"/>

                <!-- وصف -->
                <TextBlock Grid.Row="12" Grid.Column="0" Text="الوصف / الملاحظات:" Margin="5"/>
                <TextBox Grid.Row="12" Grid.Column="1" x:Name="txtDescription" Height="80" 
                         TextWrapping="Wrap" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" Margin="5"/>

                <!-- عائلات -->
                <TextBlock Grid.Row="13" Grid.Column="0" Text="العائلة (حتى 5 مستويات):" Margin="5"/>
                <StackPanel Grid.Row="13" Grid.Column="1" Orientation="Vertical" Margin="5">
                    <ComboBox x:Name="cmbCat1" Margin="0 0 0 5" Height="28" SelectionChanged="cmbCat1_SelectionChanged"/>
                    <ComboBox x:Name="cmbCat2" Margin="0 0 0 5" Height="28" SelectionChanged="cmbCat2_SelectionChanged"/>
                    <ComboBox x:Name="cmbCat3" Margin="0 0 0 5" Height="28" SelectionChanged="cmbCat3_SelectionChanged"/>
                    <ComboBox x:Name="cmbCat4" Margin="0 0 0 5" Height="28" SelectionChanged="cmbCat4_SelectionChanged"/>
                    <ComboBox x:Name="cmbCat5" Margin="0 0 0 5" Height="28" />
                </StackPanel>

                <!-- صورة -->
                <TextBlock Grid.Row="14" Grid.Column="0" Text="صورة المنتج:" Margin="5"/>
                <StackPanel Grid.Row="14" Grid.Column="1" Orientation="Horizontal" Margin="5" VerticalAlignment="Center">
                    <Image x:Name="ProductImage" Width="100" Height="100" Stretch="UniformToFill" Margin="0 0 10 0"/>
                    <Button Content="📁 اختر صورة" Click="BrowseImage_Click" Width="120"/>
                    <TextBox x:Name="txtImagePath" Margin="5" IsReadOnly="True"/>
                </StackPanel>
            </Grid>

            <!-- أزرار -->
            <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,724,0,19">
                <Button Content="💾 حفظ" Width="120" Margin="5" Click="Save_Click"/>
                <Button Content="❌ إلغاء" Width="120" Margin="5" Click="Cancel_Click"/>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</Window>
